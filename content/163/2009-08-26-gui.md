Comments: true
Date: 2009-08-26 00:00:00
Layout: post
Slug: 40
Title: gui
Wordpress_id: 40
Category: Nonsense
gui

  


今天在公司听了个wxWidgets的讲座，发现这东西确实不错，跨平台，支持多种主流语言，写起来也蛮简洁，感觉使用的套路上与java的s系列差不多，于是又勾起了我再学一种gui的兴趣。




谈到gui，发现在大学里也接触了几种，总结起来倒形成了这六七年的一个学习过程。




MFC。大一时有门课叫工程实践，要用这个来做界面，可惜那个学期光玩了，平常根本不去碰，郑涛的课也没听，结果到了学期末要交大作业，就有点急了。记得当时mfc的基础知识也懒得去看，自然对其整个框架一窍不通，于是要了份同学的代码，准备做同样的功能，只是把他写的代码换成我自己的，然后一边写一边摸索，再找人请教一下，忙了一天，倒也整出个简单的五子棋来，也朦朦胧胧的懂了一些其中的原理。因此这个工程也算是我使用gui的敲门项目。后来到交作业前一天，同宿舍比我更懒得人们瞬间把工程拷了六七份，然后回去改颜色和大小，当时就又急了，怕被查出抄袭来，于是晚上没睡觉，连夜加了个棋谱，实现了简单的翻页和跳转功能。后来再学习mfc的时候，才发现原来已经有了很多控件，而我的采用“手工画，手工判断，手工控制”的方式就太圡了点。从那时起，我的gui的认识就是已有控件的堆积，再掺进去控制代码。




ObjectARX。这不是一个gui，而是AutoCAD的二次开发包，毕业设计中用到。本来是给电科院做个电网图规划工具，但指导老师郑涛基本就不管我们，往办公室跑个十几趟才能见到一回，聊上三四句就被打发了，结果连个电网图都是自己找的，数据也没有，业务知识更是不可能懂，最后只能做个简单的画图工具了。就这么一个失败的项目倒也不是没什么收获。因为采用的是过时了七八年的技术，手头的资料相当少，于是就终于学会了看api，上网求助等手段，倒也是自身软技能的提升吧。




Swing。接着就是读研究生了。刚开始的时候，还算比较上进，挺难得的认真读了一遍core 2 java这本书，学习了swing的一些知识，再加之又看了点设计模式方面的内容，意识到了gui绝不仅仅是搭积木一样简单。一方面，其本身蕴含了很多模式，其中贯穿始终的是MVC模式，从底层的button等控件的实现，再到布局管理器，再到自己做的整个页面，每一层都能很好的用mvc来做，使得整个结构比较清晰和灵活；另一方面，代码也不需要一个笼统的堆到一个地方，完全可以将控制，视图，模型这些部分都分散开，形成一个个互相独立的个体，通过一定的规则整合起来，就能形成一幅具有高度灵活性的界面。自从领会到这一点，写gui代码时就不再觉得无趣，并且在写分布式进展大作业的时候就很好的应用到了。那是一个建立在晕哥写的分布式中间件上的应用，利用底层中间件的通信功能，和自己改造的面向对象编程方式，准备做一个分布式的gui出来（最后懒病复发，只写了个很轻量级的意思意思而已）。这个工程算是读研时做的比较有趣的项目之一，靠它还忽悠到阿里巴巴和oracle的offer来，免去了两手空空的下场。

SWT。SWT是纯粹为了组里的项目去用的，虽然其速度和美观程度更好看些，但是我始终觉得不爽。一方面当时swing已经用的比较熟了，切换到swt又要重做一遍，于是就动力不足；另一方面，swt的API易用性还是要差一点，比如说严格的GUI线程机制，这让初次尝试设计动画的人都遇到了“要么不动，要么所有动作一起动”的场景，再比如说，接口里会出现有get和set不配对的情况，更让人无法容忍的是，居然无法设定控件的背景色为透明，这一点是致命伤，因为我在swing时代就喜欢写各种控件自由组合的代码，到这边就不行了，只能老老实实的一层一层堆积木一样的写，实在是太无聊了。因此，这个阶段写的代码是我觉得最差的，除了刚开始从swing版本移植时，还有些搞头；后面为了新功能以及和其他人的合作，就随便写了个版本交差了，一点新花样都没有。

JFace和GEF。这两个是在swt基础之上在做抽象，因此易用性好很多。虽然我没用过，但由于项目的原因接触到一点。当时给我的感触是swt仅仅是实现了控件和布局上的mvc，而gef是连上层的MVC框架也实现好了，因此特别好用。于是就经常碰到新妞几行的代码，我用swt就要啃呲啃呲的自己实现个类似的框架，而且还没人家的好看。那是继weka之后我第二次亲身体会到类库在重用性方面的好处，简直就把人带到了一个新的世界。

乱七八糟写了这么多，都是学校里的事。虽然接触了不少gui，但都是些皮毛，而且我仅仅对其编程的结构比较感兴趣，对美观，可用性等其它很重要的方面倒是没什么感觉，所以找工作的时候就尽力在回避这些，更多的是想找更底层一点，更接近数据一点的工作，可能我感兴趣的东西会更多一些。不过话说回来，作为一个程序员，总得熟悉一门gui来自用吧，不然帮人写点代码都是命令行那就太圡了。正好这次听点wxWidgets的内容，回去查了一下有个python实现叫wxPython，貌似拥趸还挺多，据说比较简单灵活，因此就又动了学习一下的心思，算是以后自用的工具吧。  


[原文链接](http://lw02nju.blog.163.com/blog/static/111602792009726815286/)
